<div class="contenido">
    <div class="page-title">
        <div class="title_left">
            <h2>Topics Statistics
                <small>Here you can find a brief statics of yours topicss!</small>
            </h2>
        </div>
    </div>
    <div class="clearfix"></div>
    <!--Star row-->
    <div class="row" style="display:none">
        <div class="col-xs-offset-1 col-xs-10 col-md-6 col-md-offset-3">
            <div class="x_panel">
                <div class="x_title">
                    <div class="row">
                        <div class="col-xs-12">
                            <h2 class="text-uppercase">
                            	Popular Topics
                            </h2>
                        </div>
                    </div>

                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <table id="tableTopic" class="table table-hover">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Topic</th>
                                
                            </tr>
                        </thead>
                        <tbody>
                            {% for key, valor in popularidad_topic|dictsort(true, "value")|reverse %}
                            <tr>
                                <th>{{key}}</th>
                                <td>{{valor}}</td>
                               
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div id="container1" style="width: 100%; max-width: 800px; height: 400px; margin: 0 auto"></div>
    <div id="container2" style="width: 100%; max-width: 800px; height: 400px; margin: 0 auto"></div>
     
</div>
<!-- footer content -->
<!-- /footer content -->
<script type="text/javascript">
    $(document).ready(function(){
        $(function () {
            $('#container1').highcharts({
                data: {
                    table: 'tableTopic'
                },
                chart: {
                    type: 'column',
                },
                title: {
                    text: 'Amount of post by topic'
                },
                yAxis: {
                    allowDecimals: false,
                    title: {
                        text: 'Units'
                    }
                },
                tooltip: {
                    formatter: function () {
                        return '<b>' + this.series.name + '</b><br/>' +
                            this.point.y + ' ' + this.point.name.toLowerCase();
                    }
                }
            });
        });

        $(function () {
            $('#container2').highcharts({
                data: {
                    table: 'tableTopic'
                },
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false,
                    type: 'pie'
                },
                title: {
                    text: 'Amount of post by topic'
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: true,
                            format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                            style: {
                                color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                            }
                        }
                    }
                }
            });
        });
    });
</script>